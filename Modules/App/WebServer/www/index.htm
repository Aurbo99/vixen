<!DOCTYPE html>

<html>
	<head>
		<title>Vixen 3 Web Interface</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatable" content="IE=Edge,chrome=1"/>
		<link rel="stylesheet" href="/style/bootstrap.css" />
		<link rel="stylesheet" href="/style/bootstrap-slider.min.css"/>
		<link rel="stylesheet" href="/style/spectrum.css"/>
		<link rel="stylesheet" href="/style/vixen.css" />
	</head>

	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button class="btn btn-default navbar-btn pull-right visible-xs-inline-block" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" aria-label="Settings">
						<span class="glyphicon glyphicon-cog"></span>
					</button>
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="http://vixenlights.com">
						<img src="/images/V3Logo.png" style="max-height: 100%" />
					</a>
				</div>
				
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#Elements" data-toggle="tab">Elements</a></li>
						<li><a href="#Sequences" data-toggle="tab">Sequences</a>
						</li>
					</ul>
					<button class="btn btn-default navbar-btn pull-right hidden-xs" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" aria-label="Settings">
						<span class="glyphicon glyphicon-cog"></span>
					</button>
				</div>
					
			</div>
		</nav>
		<div class="tab-content container">
			<div class="tab-pane active" id="Elements">
				<div class="collapse navbar navbar-default navbar-fixed-bottom" id="collapseExample">
					<div class="well">
						<div class="form-inline">
							<div class="form-group">
								<label for="elementOnTime" class="control-label">Time:</label>
								<input class="form-control" type="number" name="elementOnTime" id="elementOnTime" data-bind="value: timeout" />
							</div>
							<div class="form-group">
								<label for="slider" class="control-label">Intensity:</label>
								<input class="form-control" type="range" name="intensity" id="slider" data-bind="jqmSlider: elementIntensity, min:0, max:100, value:100">
							</div>
						</div>
					</div>
				</div>
				<form data-bind="visible:search">
					<div class="form-group has-success has-feedback" data-bind="css:{'has-success':searchResultsOverflow() == false,'has-error':searchResultsOverflow()}">
						<div class="input-group">
							<label for="elementSearch-input" class="sr-only">Search</label>
							<input class="form-control" id="elementSearch-input" type="search" placeholder="Find an Element..." data-bind='value:searchToken, valueUpdate: ["input", "afterkeydown"]' />
							
							<span class="input-group-addon btn" data-bind="click:clearSearch">
								<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
							</span>
						</div>
					</div>

				</form>
				<!-- ko ifnot:search -->
				<button data-bind="click: navigateParent" class="btn-plain">
					<span class="glyphicon glyphicon-circle-arrow-left glyphicon-lg" aria-hidden="true"></span>
				</button>
				<!-- /ko -->
				
				<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true" data-bind="foreach:elements">
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" data-bind="attr:{id: 'Header' + $index()}">
							<h4 class="panel-title">
								<a data-bind="text:Name, attr:{href:'#Element' + $index(), 'aria-controls':'Element' + $index()}" class="collapsed" data-toggle="collapse" data-parent="#accordion" aria-expanded="false">
								</a>
								<button class="btn-plain pull-right" data-bind="click: $parent.navigateChild, visible:Children" aria-label="Navigate Children">
									<span class="glyphicon glyphicon-circle-arrow-right glyphicon-lg" aria-hidden="true"></span>
								</button>
							</h4>
						</div>
						<div class="panel-collapse collapse" role="tabpanel" data-bind="attr:{id:'Element'+$index(), 'aria-labelledby': 'Header' + $index()}">
							<div class="panel-body">
								<form>
									<div class="row">
										<div class="col-xs-2 col-sm-1 element-picker">
											<input class="btn btn-default" type="color" data-bind="attr: { id: Name }, spectrumColorPicker:Colors, default:'#FFFFFF'" name="color" aria-label="color" />
										</div>
										<div class="col-xs-7 col-sm-6 element-btn-group">
											<div class="element-button">
												<button data-bind="click: function(data, event) { $root.turnOnElement(data, event, true) }" class="btn btn-default" aria-label="Timed">
													<span class="glyphicon glyphicon-time glyphicon-lg" aria-hidden="true"></span>
												</button>
											</div>
											<div class="element-button">
												<button data-bind="click: function(data, event) { $root.turnOnElement(data, event, false) }" class="btn btn-default" aria-label="On">
													<span class="glyphicon glyphicon-play-circle glyphicon-lg" aria-hidden="true"></span>
												</button>
											</div>
											<div class="element-button">
												<button data-bind="click: $root.turnOffElement" class="btn btn-default" aria-label="Off">
													<span class="glyphicon glyphicon-off glyphicon-lg" aria-hidden="true"></span>
												</button>
											</div>
										</div>
									</div>

								</form>
							</div>
						</div>
					</div>
				</div>

					<footer id="footer">
						<div class="navbar-default navbar-fixed-bottom">
							<div class="container">
								<span data-bind="text: status"></span>
							</div>
						</div>
					</footer>

				</div>
			
			<div class="tab-pane" id="Sequences">
				<div class="container">
					<label class="control-label" for="select-sequence">Sequences:</label>
					<select class="form-control" name="select-sequence" id="select-sequence" data-bind="options: sequences, optionsCaption: 'Select Sequence...', optionsText: 'Name', value:selectedSequence">
						<option value="standard"></option>
					</select>
					<br/>
					<div class="btn-toolbar">
						<div class="btn-group" role="group">
							<button class="btn btn-default btn-lg" data-bind="click: $root.playSequence, enable:selectedSequence">
								<span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span>
							</button>
							<button class="btn btn-default btn-lg" data-bind="click: $root.stopSequence">
								<span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
							</button>
							<button class="btn btn-default btn-lg" data-bind="click: $root.getStatus">
								<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
							</button>
						</div>
					</div>
					<footer>
						<div class="navbar-default navbar-fixed-bottom">
							<div class="container">
								<span data-bind="text: status"></span>
							</div>
						</div>
					</footer>
				</div>
			
			</div>
		</div>
		<img src="/images/ajax-loader.gif" id="loading-indicator" style="display:none" />
		<script src="/js/jquery-1.11.2.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>
		<script src="/js/knockout-3.2.0.js"></script>
		<script src="/js/moment.min.js"></script>
		<script src="/js/bootstrap-slider.min.js"></script>
		<script src="/js/spectrum.js"></script>
		<script src="/js/amplify.min.js"></script>
		<script src="/js/vixen.js"></script>
	</body>
</html>